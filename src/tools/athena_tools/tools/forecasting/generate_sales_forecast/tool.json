{
  "name": "forecasting_generate_sales_forecast",
  "description": "Generate sales forecasts using multiple statistical methods on user-provided historical data. This tool applies 6+ forecasting algorithms to your time series data and returns predictions for future periods.\n\nFORECASTING METHODS AVAILABLE:\n\n1. rwlt_monthly_plan (DEFAULT - Recommended)\n   - Recency-Weighted Linear Trend (monthly)\n   - Best for: Items with recent trends, 6+ months history\n   - Uses exponential time decay (recent data weighted more)\n   - Softens negative trends by 50% to prevent over-pessimism\n\n2. seasonal_naive\n   - Last month's units × seasonality factor\n   - Best for: Stable seasonal patterns\n   - Simple baseline for comparison\n\n3. moving_avg_12\n   - 12-month moving average × seasonality\n   - Best for: Smoothing volatility\n   - Requires 12+ months history\n\n4. trend_seasonal\n   - Linear regression trend × seasonality\n   - Best for: Clear growth/decline patterns\n   - Uses all historical data equally\n\n5. robust_low (Conservative Ensemble)\n   - 70% MA12 + 30% seasonal naive\n   - Best for: Risk-averse planning\n   - Produces lower-bound estimates\n\n6. availability_plan\n   - Compound growth model (default 30% annual)\n   - Best for: High-growth items\n   - Uses last 3-month average as anchor\n\n7. adgp_rwdr_plan\n   - Recency-Weighted Daily Rate\n   - Best for: Items with high variance\n   - Winsorizes outliers at 97th percentile\n\nSEASONALITY:\n- Automatically learned from historical patterns\n- Can override with manual 12-month pattern (e.g., \"1.0;1.2;1.5;...\")\n- Applied to all forecast methods\n\nINPUT REQUIREMENTS:\n- Minimum: 3 months of history (6-12 months recommended)\n- Required fields: period (YYYY-MM), units_sold, sales_amount\n- Optional: price, seasonality override\n\nOUTPUT:\n- Monthly forecasts for specified horizon (default 12 months)\n- Separate series for each selected method\n- Includes: forecast_period, units_sold, sales_amount, method_name\n- Price projections based on historical averages\n\nNEXT STEPS AFTER GENERATING FORECAST:\n1. Use 'forecasting_write_sales_forecast' tool to save generated forecasts to the database\n2. After writing, verify your data in the NeonPanel Sales Forecast Live report:\n   https://my.neonpanel.com/app/reports/forecasting/sales-forecast-live?filterSet=current",
  "isConsequential": false,
  "inputSchema": {
    "type": "object",
    "properties": {
      "historical_data": {
        "type": "array",
        "description": "Time series of historical sales data. Each item represents one month of data.",
        "minItems": 3,
        "maxItems": 60,
        "items": {
          "type": "object",
          "properties": {
            "period": {
              "type": "string",
              "pattern": "^\\d{4}-\\d{2}$",
              "description": "Month in YYYY-MM format (e.g., '2025-01')"
            },
            "units_sold": {
              "type": "number",
              "minimum": 0,
              "description": "Number of units sold in this period"
            },
            "sales_amount": {
              "type": "number",
              "minimum": 0,
              "description": "Revenue/sales amount in this period"
            },
            "price": {
              "type": "number",
              "minimum": 0,
              "description": "Optional: Average unit price. If not provided, calculated as sales_amount/units_sold"
            }
          },
          "required": ["period", "units_sold", "sales_amount"],
          "additionalProperties": false
        }
      },
      "forecast_config": {
        "type": "object",
        "description": "Configuration for forecast generation",
        "properties": {
          "methods": {
            "type": "array",
            "description": "Forecasting methods to apply. If empty/not provided, uses rwlt_monthly_plan (default).",
            "items": {
              "type": "string",
              "enum": [
                "rwlt_monthly_plan",
                "seasonal_naive",
                "moving_avg_12",
                "trend_seasonal",
                "robust_low",
                "availability_plan",
                "adgp_rwdr_plan",
                "rwlt_plan"
              ]
            },
            "default": ["rwlt_monthly_plan"]
          },
          "horizon_months": {
            "type": "integer",
            "minimum": 1,
            "maximum": 24,
            "default": 12,
            "description": "Number of months to forecast into the future (1-24)"
          },
          "start_period": {
            "type": "string",
            "pattern": "^\\d{4}-\\d{2}$",
            "description": "Optional: Starting month for forecast (YYYY-MM). Defaults to month after last historical period."
          },
          "seasonality_pattern": {
            "type": "string",
            "pattern": "^\\d+(\\.\\d+)?(;\\d+(\\.\\d+)?){11}$",
            "description": "Optional: Manual seasonality pattern (12 semicolon-separated values for Jan-Dec). Example: '1.0;1.0;1.2;1.5;1.8;2.0;1.8;1.5;1.2;1.0;1.0;1.0'. If not provided, seasonality is learned from historical data."
          },
          "availability_growth_annual": {
            "type": "number",
            "minimum": -0.5,
            "maximum": 5.0,
            "default": 0.30,
            "description": "Annual growth rate for availability_plan method (default 30%)"
          },
          "rwdr_half_life_days": {
            "type": "number",
            "minimum": 7,
            "maximum": 180,
            "default": 45,
            "description": "Half-life for recency weighting in RWDR method (days)"
          }
        },
        "additionalProperties": false
      },
      "item_metadata": {
        "type": "object",
        "description": "Optional metadata about the item being forecasted (for context/labeling)",
        "properties": {
          "sku": { "type": "string" },
          "asin": { "type": "string" },
          "product_name": { "type": "string" },
          "marketplace": { "type": "string" },
          "currency": { "type": "string", "default": "USD" }
        },
        "additionalProperties": true
      }
    },
    "required": ["historical_data"],
    "additionalProperties": false
  }
}
